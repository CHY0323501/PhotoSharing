
@{
    ViewBag.Title = "Index";
    var data = ViewBag.Data;
}

<h2>Index</h2>
@if (data.GetType().GetProperty("Count").GetValue(data)==0)
{
    <h2 class="alert alert-info">目前無任何回覆資料</h2>
}
else
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>PhotoID</th>
                <th>Title</th>
                <th>Subject</th>
                <th>Body</th>
                <th>UserName</th>
                <th>回覆留言</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in data)
            {
                var PhotoID = item.GetType().GetProperty("PhotoID").GetValue(item);
                <tr>
                    <td>
                        @PhotoID
                    </td>
                    <td>@item.GetType().GetProperty("title").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("subject").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("body").GetValue(item)</td>
                    <td>@item.GetType().GetProperty("UserName").GetValue(item)</td>
                    <td>@Html.ActionLink("回覆留言","CreateComment",new { id=PhotoID},new { @class="btn btn-primary"})</td>
                </tr>
            }
        </tbody>
    </table>

}

